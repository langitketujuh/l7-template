# Template file for 'l7-repo-multilib'
pkgname=l7-repo-multilib
version=0.1
revision=3
archs="x86_64"
build_style=meta
short_desc="Langitketujuh drop-in file for the multilib repository"
maintainer="Hervy Qurrotul Ainur Rozi <hervyqa@pm.me>"
license="GPL-3.0-or-later"
homepage="https://langitketujuh.id"
conflicts="void-repo-multilib"

do_install() {
	vmkdir etc/xbps.d
	vmkdir usr/share/xbps.d
	for f in multilib multilib-nonfree; do
		echo "repository=https://void.webconverger.org/current/${f/-/\/}" > \
			${DESTDIR}/etc/xbps.d/10-repository-${f}.conf
		echo "repository=https://void.webconverger.org/current/${f/-/\/}" > \
			${DESTDIR}/usr/share/xbps.d/10-repository-${f}.conf
	done
}

l7-repo-multilib-nonfree_package() {
	short_desc="${short_desc/multilib/multilib\/nonfree}"
	conflicts="void-repo-multilib-nonfree"
	pkg_install() {
		vmove etc/xbps.d/10-repository-multilib-nonfree.conf
		vmove usr/share/xbps.d/10-repository-multilib-nonfree.conf
	}
}
