# Template file for 'l7-xbps'
pkgname=l7-xbps
version=0.1.0
revision=1
build_style=meta
short_desc="Additional configuration for xbps package"
maintainer="Hervy Qurrotul Ainur Rozi <hervyqa@proton.me>"
license="GPL-3.0-or-later"
homepage="https://langitketujuh.id"

do_install() {
	vmkdir etc/xbps.d
	vmkdir usr/share/xbps.d
	case "$XBPS_TARGET_MACHINE" in
		aarch64*)
			echo "repository=https://al.quds.repo.langitketujuh.id/current/aarch64" > \
				${DESTDIR}/usr/share/xbps.d/70-langitketujuh-repository-main.conf
			;;
		*-musl)
			echo "repository=https://al.quds.repo.langitketujuh.id/current/musl" > \
				${DESTDIR}/usr/share/xbps.d/70-langitketujuh-repository-main.conf
			;;
		*)
			echo "repository=https://al.quds.repo.langitketujuh.id/current" > \
				${DESTDIR}/usr/share/xbps.d/70-langitketujuh-repository-main.conf
			;;
	esac
}
